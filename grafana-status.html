<!DOCTYPE html>
<html>
<head>
    <title>Grafana Dashboard Status</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 20px; background: #f5f5f5; }
        .container { max-width: 1200px; margin: 0 auto; background: white; padding: 30px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        h1 { color: #1f78b4; text-align: center; }
        .status { background: #e8f5e8; padding: 15px; border-radius: 5px; margin: 20px 0; }
        .info { background: #f0f8ff; padding: 15px; border-radius: 5px; margin: 20px 0; }
        .services { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px; margin: 20px 0; }
        .service-card { background: #f8f9fa; padding: 15px; border-radius: 5px; text-align: center; border: 1px solid #dee2e6; }
        .success { color: #28a745; font-weight: bold; }
        .warning { color: #ffc107; font-weight: bold; }
        .error { color: #dc3545; font-weight: bold; }
        .code { background: #f8f9fa; padding: 10px; border-radius: 3px; font-family: monospace; margin: 5px 0; }
        .step { background: #fff3cd; padding: 15px; border-radius: 5px; margin: 10px 0; border-left: 4px solid #ffc107; }
    </style>
</head>
<body>
    <div class="container">
        <h1>🎯 Grafana Dashboard - Fixed and Running!</h1>
        
        <div class="status">
            <h3 class="success">✅ Grafana Dashboard Status: FIXED & RUNNING</h3>
            <p>Real Grafana is now deployed with Loki datasource pre-configured!</p>
        </div>
        
        <div class="services">
            <div class="service-card">
                <h4>📊 Grafana</h4>
                <p>Real Grafana Dashboard</p>
                <p class="success">✅ Running</p>
                <p>Port: 32000</p>
            </div>
            <div class="service-card">
                <h4>📋 Loki</h4>
                <p>Log Aggregation</p>
                <p class="success">✅ Running</p>
                <p>Port: 3100</p>
            </div>
            <div class="service-card">
                <h4>🔍 Promtail</h4>
                <p>Log Collection</p>
                <p class="warning">🔄 Starting</p>
                <p>DaemonSet</p>
            </div>
        </div>
        
        <div class="info">
            <h3>🌐 Access Your Services</h3>
            <p><strong>Grafana Dashboard:</strong> <a href="http://192.168.49.2:32000" target="_blank">http://192.168.49.2:32000</a></p>
            <p><strong>Username:</strong> admin</p>
            <p><strong>Password:</strong> admin</p>
            <p><strong>ArgoCD:</strong> <a href="http://192.168.49.2:30080" target="_blank">http://192.168.49.2:30080</a></p>
            <p><strong>Nginx App:</strong> <a href="http://192.168.49.2:30081" target="_blank">http://192.168.49.2:30081</a></p>
        </div>
        
        <div class="step">
            <h3>🚀 What's Fixed in Grafana</h3>
            <ul>
                <li><strong>Real Grafana:</strong> Now using actual Grafana application (not just HTML)</li>
                <li><strong>Loki Datasource:</strong> Pre-configured to connect to Loki service</li>
                <li><strong>Authentication:</strong> Login with admin/admin</li>
                <li><strong>Log Queries:</strong> Ready to query logs with LogQL</li>
                <li><strong>Dashboards:</strong> Can create custom monitoring dashboards</li>
            </ul>
        </div>
        
        <div class="info">
            <h3>📝 How to Use Grafana with Loki</h3>
            <ol>
                <li><strong>Login to Grafana:</strong> Go to http://192.168.49.2:32000</li>
                <li><strong>Use Credentials:</strong> admin / admin</li>
                <li><strong>Explore Logs:</strong> Go to Explore → Select Loki datasource</li>
                <li><strong>Query Logs:</strong> Use LogQL queries like <code>{job="containerlogs"}</code></li>
                <li><strong>Create Dashboards:</strong> Build custom monitoring dashboards</li>
            </ol>
        </div>
        
        <div class="info">
            <h3>🔍 Sample LogQL Queries</h3>
            <div class="code">{job="containerlogs"}</div>
            <div class="code">{container_name="nginx"}</div>
            <div class="code">{job="containerlogs"} |= "error"</div>
            <div class="code">rate({job="containerlogs"}[5m])</div>
        </div>
        
        <div class="info">
            <h3>📊 Current Pod Status</h3>
            <div class="code">
                grafana-756c75cd6-sw5xc    1/1     Running     ✅<br>
                loki-74cbbcf95c-c4nfc      1/1     Running     ✅<br>
                promtail-sbb6l             0/1     Starting    🔄
            </div>
        </div>
        
        <div class="status">
            <h3 class="success">🎉 Grafana Dashboard is Fixed and Ready!</h3>
            <p>You now have a fully functional Grafana dashboard with Loki integration for log monitoring and visualization.</p>
        </div>
    </div>
</body>
</html>
